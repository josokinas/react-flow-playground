{"version":3,"sources":["webpack://@josokinas/react-flow-playground/./src/components/nodes/async_task.jsx","webpack://@josokinas/react-flow-playground/./src/components/nodes/condition.jsx","webpack://@josokinas/react-flow-playground/./src/components/nodes/interactive_task.jsx","webpack://@josokinas/react-flow-playground/./src/components/nodes/sync_task.jsx","webpack://@josokinas/react-flow-playground/./src/pages/index.jsx","webpack://@josokinas/react-flow-playground/./src/components/nodes/task.jsx","webpack://@josokinas/react-flow-playground/./src/pages/test_1.jsx","webpack://@josokinas/react-flow-playground/./src/pages/test_2.jsx","webpack://@josokinas/react-flow-playground/./src/components/nodes/rule.jsx","webpack://@josokinas/react-flow-playground/./src/pages/test_3.jsx"],"names":["AsyncTask","memo","data","designV","title","selected","className","id","type","position","isConnectable","style","backgroundColor","parseOperands","operation","operands","map","value","join","Expression","Condition","rules","rule","key","hideOutput","expression","InteractiveTask","SyncTask","tests","test1","Test1","test2","Test2","test3","Test3","TestComponent","useState","test","setTest","onClick","out_1","out_2","nodeTypes","start","Start","task","Task","finish","Finish","nodeStyles","startStyle","taskStyle","initialElements","x","y","elements","setElements","onConnect","params","elementType","source","find","element","color","sourceHandle","addEdge","stroke","target","in","interactive_task","sync_task","async_task","condition","getElementNodeType","getElementTitle","workflowData","defaultNode","nextNode","visualSettings","length","push","taskDefinition","tasksData","name","settings","getElementObj","forEach","height","JSON","stringify","small","content","Rule","arrowHeadType","selectedElements","setSelectedElements","useEffect","includes","onSelectionChange"],"mappings":"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","file":"component---src-pages-index-jsx-fd4488b1af1a36fb4565.js","sourcesContent":["import React, { memo } from 'react';\nimport { Handle } from 'react-flow-renderer';\nimport Base from './base';\n\nconst AsyncTask = memo(({ data, designV }) => {\n  return (\n    <Base title={data.title} selected={data.selected} designV={designV}>\n      <div className=\"node-async-task--body\">\n        <div className=\"node-handle--container node-handle--container--left\">\n          Input\n          <Handle\n            id=\"in\"\n            type=\"target\"\n            position=\"left\"\n            isConnectable\n            style={{ backgroundColor: data.style?.['in'] }}\n          />\n        </div>\n        <div className=\"node-handle--container node-handle--container--right\">\n          Output\n          <Handle id=\"out\" type=\"source\" position=\"right\" isConnectable />\n        </div>\n      </div>\n    </Base>\n  );\n});\n\nexport default AsyncTask;\n","import React, { memo } from 'react';\nimport { Handle } from 'react-flow-renderer';\nimport Base from './base';\n\nconst parseOperands = (operation, operands) =>\n  operands\n    .map(({ operation, operands, value }) => {\n      if (operands) return `(${parseOperands(operation, operands)})`;\n\n      return value;\n    })\n    .join(` ${operation} `);\n\nexport const Expression = memo(({ operation, operands }) => {\n  return (\n    <div className=\"node-condition-expression--container\">\n      {parseOperands(operation, operands)}\n    </div>\n  );\n});\n\nconst Condition = memo(({ id, data }) => {\n  return (\n    <Base selected={data.selected} designV={data.designV}>\n      <div className=\"node-condition--body\">\n        <div className=\"node-handle--container node-handle--container--left\">\n          Input\n          <Handle\n            id=\"in\"\n            type=\"target\"\n            position=\"left\"\n            isConnectable\n            style={{ backgroundColor: data.style?.['in'] }}\n          />\n        </div>\n        <div>\n          {data.rules &&\n            data.rules.map((rule) => (\n              <div\n                key={`${id}=rule.id`}\n                className=\"node-handle--container node-handle--container--right\"\n              >\n                {!data.hideOutput && (\n                  <Expression\n                    operation={rule.expression.operation}\n                    operands={rule.expression.operands}\n                  />\n                )}\n                <Handle\n                  id={rule.id}\n                  type=\"source\"\n                  position=\"right\"\n                  isConnectable\n                />\n              </div>\n            ))}\n          <div className=\"node-handle--container node-handle--container--right\">\n            {!data.hideOutput && 'No'}\n            <Handle id=\"no\" type=\"source\" position=\"right\" isConnectable />\n          </div>\n        </div>\n      </div>\n    </Base>\n  );\n});\n\nexport default Condition;\n","import React, { memo } from 'react';\nimport { Handle } from 'react-flow-renderer';\nimport Base from './base';\n\nconst InteractiveTask = memo(({ data }) => {\n  return (\n    <Base title={data.title} selected={data.selected} designV={data.designV}>\n      <div className=\"node-interactive-task--body\">\n        <div className=\"node-handle--container node-handle--container--left\">\n          Input\n          <Handle\n            id=\"in\"\n            type=\"target\"\n            position=\"left\"\n            isConnectable\n            style={{ backgroundColor: data.style?.['in'] }}\n          />\n        </div>\n        <div className=\"node-handle--container node-handle--container--right\">\n          Output\n          <Handle id=\"out\" type=\"source\" position=\"right\" isConnectable />\n        </div>\n      </div>\n    </Base>\n  );\n});\n\nexport default InteractiveTask;\n","import React, { memo } from 'react';\nimport { Handle } from 'react-flow-renderer';\nimport Base from './base';\n\nconst SyncTask = memo(({ data }) => {\n  return (\n    <Base title={data.title} selected={data.selected} designV={data.designV}>\n      <div className=\"node-sync-task--body\">\n        <div className=\"node-handle--container node-handle--container--left\">\n          Input\n          <Handle\n            id=\"in\"\n            type=\"target\"\n            position=\"left\"\n            isConnectable\n            style={{ backgroundColor: data.style?.['in'] }}\n          />\n        </div>\n        <div className=\"node-handle--container node-handle--container--right\">\n          Output\n          <Handle id=\"out\" type=\"source\" position=\"right\" isConnectable />\n        </div>\n      </div>\n    </Base>\n  );\n});\n\nexport default SyncTask;\n","import React, { useState } from 'react';\n\nimport Test1 from './test_1';\nimport Test2 from './test_2';\nimport Test3 from './test_3';\n\nconst tests = {\n  test1: Test1,\n  test2: Test2,\n  test3: Test3,\n};\n\nfunction Index() {\n  const [test, setTest] = useState(null);\n\n  const getTest = () => {\n    const TestComponent = tests[test];\n\n    if (TestComponent) return <TestComponent />;\n\n    return null;\n  };\n\n  return (\n    <div className=\"container\">\n      <button onClick={() => setTest('test1')}>Test 1</button>\n      <button onClick={() => setTest('test2')}>Test 2</button>\n      <button onClick={() => setTest('test3')}>Test 3</button>\n      {getTest()}\n    </div>\n  );\n}\n\nexport default Index;\n","import React, { memo } from 'react';\nimport { Handle } from 'react-flow-renderer';\nimport Base from './base';\n\nexport const style = {\n  out_1: 'rgba(222, 180, 31)',\n  out_2: 'rgba(15, 34, 212)',\n};\n\nconst Task = memo(({ data }) => {\n  return (\n    <Base title={data.title}>\n      <div className=\"node-task--body\">\n        <div className=\"node-handle--container node-handle--container--left\">\n          Input\n          <Handle\n            id=\"in\"\n            type=\"target\"\n            position=\"left\"\n            isConnectable\n            style={{ backgroundColor: data.style?.['in'] }}\n          />\n        </div>\n        <div>\n          <div className=\"node-handle--container node-handle--container--right\">\n            Output 1\n            <Handle\n              id=\"out_1\"\n              type=\"source\"\n              position=\"right\"\n              isConnectable\n              style={{ backgroundColor: style.out_1 }}\n            />\n          </div>\n          <div className=\"node-handle--container node-handle--container--right\">\n            Output 2\n            <Handle\n              id=\"out_2\"\n              type=\"source\"\n              position=\"right\"\n              isConnectable\n              style={{ backgroundColor: style.out_2 }}\n            />\n          </div>\n        </div>\n      </div>\n    </Base>\n  );\n});\n\nexport default Task;\n","import React, { useState } from 'react';\nimport ReactFlow, { addEdge } from 'react-flow-renderer';\n\nimport Start, { style as startStyle } from '../components/nodes/start';\nimport Task, { style as taskStyle } from '../components/nodes/task';\nimport Finish from '../components/nodes/finish';\n\nconst nodeTypes = {\n  start: Start,\n  task: Task,\n  finish: Finish,\n};\n\nconst nodeStyles = {\n  start: startStyle,\n  task: taskStyle,\n};\n\nconst initialElements = [\n  {\n    id: '1',\n    type: 'start',\n    data: {\n      title: 'Start',\n    },\n    position: { x: 50, y: 250 },\n  },\n  {\n    id: '2',\n    type: 'task',\n    data: {\n      title: 'Task 1',\n    },\n    position: { x: 450, y: 250 },\n  },\n  {\n    id: '3',\n    type: 'finish',\n    data: {\n      title: 'Finish 1',\n    },\n    position: { x: 825, y: 150 },\n  },\n  {\n    id: '4',\n    type: 'finish',\n    data: {\n      title: 'Finish 2',\n    },\n    position: { x: 825, y: 300 },\n  },\n];\n\nconst getElementType = (id) =>\n  initialElements.find((element) => element.id === id)?.type;\n\nfunction Test1() {\n  const [elements, setElements] = useState(initialElements);\n\n  const onConnect = (params) => {\n    const elementType = getElementType(params.source);\n    const style = nodeStyles[elementType];\n    const color = style?.[params.sourceHandle];\n\n    setElements((elements) =>\n      addEdge(\n        {\n          ...params,\n          // stroke edge style\n          style: { stroke: color },\n        },\n        elements.map((element) =>\n          element.id === params.target\n            ? // also style \"in\" handler of a target\n              { ...element, data: { ...element.data, style: { in: color } } }\n            : element\n        )\n      )\n    );\n  };\n\n  return (\n    <div className=\"wrapper\">\n      <ReactFlow\n        {...{ nodeTypes, elements, onConnect }}\n        className=\"playground\"\n      />\n    </div>\n  );\n}\n\nexport default Test1;\n","import React, { useState } from 'react';\nimport ReactFlow from 'react-flow-renderer';\n\nimport Start from '../components/nodes/start';\nimport InteractiveTask from '../components/nodes/interactive_task';\nimport SyncTask from '../components/nodes/sync_task';\nimport AsyncTask from '../components/nodes/async_task';\nimport Condition from '../components/nodes/condition';\nimport Finish from '../components/nodes/finish';\n\nimport tasksData from '../data/tasks.json';\nimport workflowData from '../data/workflow_1.json';\n\nconst nodeTypes = {\n  start: Start,\n  interactive_task: InteractiveTask,\n  sync_task: SyncTask,\n  async_task: AsyncTask,\n  condition: Condition,\n  finish: Finish,\n};\n\nconst getElementNodeType = (type) => {\n  switch (type) {\n    case 'INTERACTIVE':\n      return 'interactive_task';\n    case 'SYNC':\n      return 'sync_task';\n    case 'ASYNC':\n      return 'async_task';\n  }\n};\n\nconst getElementTitle = (task) => {\n  switch (task) {\n    case 'upload_document':\n      return 'Upload Document';\n    case 'upload_selfie':\n      return 'Upload Selfie';\n    case 'collect_address':\n      return 'Collect Address';\n    case 'ocr_autofill':\n      return 'OCR Autofill';\n    case 'aamva':\n      return 'AAMVA';\n    case 'facial_similarity_report':\n      return 'Facial Similarity Report';\n    case 'document_report':\n      return 'Document Report';\n    case 'watchlist_report':\n      return 'Watchlist Report';\n    case 'pass_applicant':\n      return 'Pass';\n    case 'consider_applicant':\n      return 'Fail';\n    default:\n      return 'N/A';\n  }\n};\n\nconst getElementObj = ({ id, type, task, rules, position }) => {\n  switch (type) {\n    case 'TASK': {\n      const taskDefinition = tasksData.tasks.find(({ name }) => name === task);\n      return {\n        id,\n        type: getElementNodeType(taskDefinition.type),\n        data: {\n          title: taskDefinition.settings?.title || getElementTitle(task),\n        },\n        position,\n      };\n    }\n    case 'CONDITION':\n      return {\n        id,\n        type: 'condition',\n        data: { rules },\n        position,\n      };\n    case 'FINAL':\n      return {\n        id,\n        type: 'finish',\n        data: {\n          title: getElementTitle(task),\n        },\n        position,\n      };\n  }\n};\n\nconst initialElements = [];\n\nworkflowData.workflow.nodes.forEach(\n  ({\n    id,\n    type,\n    task,\n    rules,\n    defaultNode,\n    nextNode,\n    visualSettings: { position },\n  }) => {\n    if (!initialElements.length) {\n      initialElements.push({\n        id: 0,\n        type: 'start',\n        data: {\n          title: 'Start',\n        },\n        position: { x: 25, y: 25 },\n      });\n      initialElements.push({\n        id: `0-${id}`,\n        source: 0,\n        target: id,\n      });\n    }\n\n    initialElements.push(getElementObj({ id, type, task, rules, position }));\n\n    if (defaultNode)\n      initialElements.push({\n        id: defaultNode.visualSettings.id,\n        source: id,\n        sourceHandle: 'no',\n        target: defaultNode.id,\n      });\n\n    if (nextNode)\n      nextNode.forEach((nextNode) => {\n        initialElements.push({\n          id: nextNode.visualSettings.id,\n          source: id,\n          target: nextNode.id,\n        });\n      });\n\n    if (rules)\n      rules.forEach((rule) => {\n        rule.nextNode.forEach((nextNode) => {\n          initialElements.push({\n            id: nextNode.visualSettings.id,\n            source: id,\n            sourceHandle: rule.id,\n            target: nextNode.id,\n          });\n        });\n      });\n  }\n);\n\nfunction Test2() {\n  const [elements] = useState(initialElements);\n\n  return (\n    <div className=\"wrapper\">\n      <h2>Workflow diagram</h2>\n      <ReactFlow\n        {...{ nodeTypes, elements }}\n        className=\"playground\"\n        style={{ height: '550px' }}\n      />\n      <h2>Current React Flow object of elements:</h2>\n      <pre>{JSON.stringify(elements, null, 2)}</pre>\n      <hr />\n      <h2>Raw workflow JSON data:</h2>\n      <pre>{JSON.stringify(workflowData, null, 2)}</pre>\n    </div>\n  );\n}\n\nexport default Test2;\n","import React, { memo } from 'react';\nimport { Handle } from 'react-flow-renderer';\nimport Base from './base';\n\nconst Rule = memo(({ data }) => {\n  return (\n    <Base small>\n      <div className=\"node-rule--body\">\n        <div className=\"node-handle--container node-handle--container--left\">\n          <Handle\n            id=\"in\"\n            type=\"target\"\n            position=\"left\"\n            isConnectable\n            style={{ backgroundColor: data.style?.['in'] }}\n          />\n        </div>\n        <div>{data.content}</div>\n        <div className=\"node-handle--container node-handle--container--right\">\n          <Handle id=\"out\" type=\"source\" position=\"right\" isConnectable />\n        </div>\n      </div>\n    </Base>\n  );\n});\n\nexport default Rule;\n","import React, { useEffect, useState } from 'react';\nimport ReactFlow from 'react-flow-renderer';\n\nimport Start from '../components/nodes/start';\nimport InteractiveTask from '../components/nodes/interactive_task';\nimport SyncTask from '../components/nodes/sync_task';\nimport AsyncTask from '../components/nodes/async_task';\nimport Condition, { Expression } from '../components/nodes/condition';\nimport Rule from '../components/nodes/rule';\nimport Finish from '../components/nodes/finish';\n\nimport tasksData from '../data/tasks.json';\nimport workflowData from '../data/workflow_2.json';\n\nconst nodeTypes = {\n  start: Start,\n  interactive_task: InteractiveTask,\n  sync_task: SyncTask,\n  async_task: AsyncTask,\n  condition: Condition,\n  rule: Rule,\n  finish: Finish,\n};\n\nconst getElementNodeType = (type) => {\n  switch (type) {\n    case 'INTERACTIVE':\n      return 'interactive_task';\n    case 'SYNC':\n      return 'sync_task';\n    case 'ASYNC':\n      return 'async_task';\n  }\n};\n\nconst getElementTitle = (task) => {\n  switch (task) {\n    case 'upload_document':\n      return 'Upload Document';\n    case 'upload_selfie':\n      return 'Upload Selfie';\n    case 'collect_address':\n      return 'Collect Address';\n    case 'ocr_autofill':\n      return 'OCR Autofill';\n    case 'aamva':\n      return 'AAMVA';\n    case 'facial_similarity_report':\n      return 'Facial Similarity Report';\n    case 'document_report':\n      return 'Document Report';\n    case 'watchlist_report':\n      return 'Watchlist Report';\n    case 'pass_applicant':\n      return 'Pass';\n    case 'consider_applicant':\n      return 'Fail';\n    default:\n      return 'N/A';\n  }\n};\n\nconst getElementObj = ({ id, type, task, rules, position }) => {\n  switch (type) {\n    case 'TASK': {\n      const taskDefinition = tasksData.tasks.find(({ name }) => name === task);\n      return {\n        id: `${id}`,\n        type: getElementNodeType(taskDefinition.type),\n        data: {\n          title: taskDefinition.settings?.title || getElementTitle(task),\n          designV: 2,\n        },\n        position,\n      };\n    }\n    case 'CONDITION':\n      return {\n        id: `${id}`,\n        type: 'condition',\n        data: { rules, designV: 2, hideOutput: true },\n        position,\n        test: ' TEST',\n      };\n    case 'FINAL':\n      return {\n        id: `${id}`,\n        type: 'finish',\n        data: {\n          title: getElementTitle(task),\n          designV: 2,\n        },\n        position,\n      };\n  }\n};\n\nconst initialElements = [];\n\nworkflowData.workflow.nodes.forEach(\n  ({\n    id,\n    type,\n    task,\n    rules,\n    defaultNode,\n    nextNode,\n    visualSettings: { position },\n  }) => {\n    if (!initialElements.length) {\n      initialElements.push({\n        id: '0',\n        type: 'start',\n        data: {\n          title: 'Start',\n          designV: 2,\n        },\n        position: { x: 25, y: 25 },\n      });\n      initialElements.push({\n        id: `0-${id}`,\n        source: '0',\n        target: `${id}`,\n        type: 'smoothstep',\n        arrowHeadType: 'arrow',\n      });\n    }\n\n    initialElements.push(getElementObj({ id, type, task, rules, position }));\n\n    if (defaultNode) {\n      initialElements.push({\n        id: `default-${id}`,\n        type: 'rule',\n        data: {\n          content: 'else',\n        },\n        position: defaultNode.visualSettings.position,\n      });\n\n      // from condition node to rule node\n      initialElements.push({\n        id: `${id}-default-${id}`,\n        source: `${id}`,\n        sourceHandle: 'no',\n        target: `default-${id}`,\n        type: 'smoothstep',\n        arrowHeadType: 'arrow',\n      });\n      // from rule node to \"default\" node\n      initialElements.push({\n        id: `default-${id}-${defaultNode.id}`,\n        source: `default-${id}`,\n        sourceHandle: 'no',\n        target: `${defaultNode.id}`,\n        type: 'smoothstep',\n        arrowHeadType: 'arrow',\n      });\n    }\n\n    if (nextNode)\n      nextNode.forEach((nextNode) => {\n        initialElements.push({\n          id: nextNode.visualSettings.id,\n          source: `${id}`,\n          target: `${nextNode.id}`,\n          type: 'smoothstep',\n          arrowHeadType: 'arrow',\n        });\n      });\n\n    if (rules)\n      rules.forEach((rule) => {\n        initialElements.push({\n          id: `rule-${id}`,\n          type: 'rule',\n          data: {\n            content: (\n              <Expression\n                operation={rule.expression.operation}\n                operands={rule.expression.operands}\n              />\n            ),\n          },\n          position: rule.visualSettings.position,\n        });\n\n        // from condition node to rule node\n        initialElements.push({\n          id: `${id}-rule-${id}`,\n          source: `${id}`,\n          sourceHandle: `${rule.id}`,\n          target: `rule-${id}`,\n          type: 'smoothstep',\n          arrowHeadType: 'arrow',\n        });\n        // from rule node to each next node\n        rule.nextNode.forEach((nextNode) => {\n          initialElements.push({\n            id: `rule-${id}-${nextNode.id}`,\n            source: `rule-${id}`,\n            sourceHandle: `${rule.id}`,\n            target: `${nextNode.id}`,\n            type: 'smoothstep',\n            arrowHeadType: 'arrow',\n          });\n        });\n      });\n  }\n);\n\nfunction Test3() {\n  const [elements, setElements] = useState(initialElements);\n  const [selectedElements, setSelectedElements] = useState([]);\n\n  useEffect(() => {\n    setElements([...elements]);\n    setElements((elements) =>\n      elements.map((element) => {\n        element.data = {\n          ...element.data,\n          selected: selectedElements.includes(`${element.id}`),\n        };\n\n        return element;\n      })\n    );\n  }, [selectedElements, setElements]);\n\n  const handleSelectionChange = (elements) => {\n    if (!elements) return;\n\n    const selectedElements = elements.map((element) => element.id);\n\n    setSelectedElements(selectedElements);\n  };\n\n  return (\n    <div className=\"wrapper\">\n      <ReactFlow\n        nodeTypes={nodeTypes}\n        elements={elements}\n        onSelectionChange={handleSelectionChange}\n        className=\"playground\"\n      />\n    </div>\n  );\n}\n\nexport default Test3;\n"],"sourceRoot":""}